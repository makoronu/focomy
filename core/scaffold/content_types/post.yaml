name: post
label: 投稿
label_plural: 投稿一覧
icon: document
admin_menu: true
searchable: true
path_prefix: /post
archive_enabled: true
feed_enabled: true

fields:
  - name: title
    type: string
    label: タイトル
    required: true
    indexed: true
    max_length: 200

  - name: slug
    type: slug
    label: スラッグ
    unique: true
    auto_generate: title

  - name: body
    type: blocks
    label: 本文

  - name: excerpt
    type: text
    label: 抜粋
    max_length: 200
    auto_generate: body

  - name: featured_image
    type: media
    label: アイキャッチ
    accept: image/*

  - name: status
    type: select
    label: ステータス
    options:
      - value: draft
        label: 下書き
      - value: published
        label: 公開
      - value: private
        label: 非公開
    default: draft
    transitions:
      draft: [published, private]
      published: [draft, private]
      private: [draft, published]

  - name: published_at
    type: datetime
    label: 公開日時

  # SEO fields
  - name: seo_title
    type: string
    label: SEOタイトル
    description: 検索結果に表示されるタイトル（空の場合は投稿タイトル）
    max_length: 60

  - name: seo_description
    type: text
    label: SEO説明文
    description: 検索結果に表示される説明文（空の場合は抜粋）
    max_length: 160

  - name: seo_noindex
    type: boolean
    label: noindex
    description: 検索エンジンにインデックスさせない
    default: false

  - name: seo_nofollow
    type: boolean
    label: nofollow
    description: リンクを追跡させない
    default: false

  - name: seo_canonical
    type: url
    label: canonical URL
    description: 正規URLを上書き

  - name: og_title
    type: string
    label: OGタイトル
    description: SNSシェア時のタイトル（空の場合はSEOタイトル）
    max_length: 60

  - name: og_description
    type: text
    label: OG説明文
    description: SNSシェア時の説明文（空の場合はSEO説明文）
    max_length: 160

  - name: og_image
    type: media
    label: OG画像
    description: SNSシェア時の画像（空の場合はアイキャッチ）
    accept: image/*

relations:
  - type: post_author
    label: 著者
    required: true

  - type: post_categories
    label: カテゴリ
